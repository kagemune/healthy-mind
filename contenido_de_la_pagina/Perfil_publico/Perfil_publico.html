<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil de Usuario - Healthy Mind</title>
    <link rel="icon" href="/Imagenes/logo2.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="/CSS_General/Perfil_publico.css">
    <link rel="stylesheet" href="/CSS_General/notas-perfil.css">

    <!-- logo tipo icon -->
    <link rel="icon" href="/Imagenes/logos/logo.png">

</head>
<body>
    <!-- Header con navegación -->
    <header class="perfil-header">
        <button class="btn-volver" id="btnVolver">
            <i class="bi bi-arrow-left"></i>
            Volver
        </button>
        <h1 class="perfil-titulo" id="perfilTitulo">Perfil de Usuario</h1>
        <div class="acciones-perfil">
            <button class="btn-seguir" id="btnSeguir">
                <i class="bi bi-person-plus-fill"></i>
                <span>Seguir</span>
            </button>
        </div>
    </header>

    <!-- Contenedor principal -->
    <main class="perfil-contenedor">
        <!-- Loading inicial -->
        <div class="loading" id="loadingIndicator">
            <div class="spinner"></div>
        </div>

        <!-- Contenido del perfil -->
        <div id="perfilContenido" style="display: none;">
            <!-- Sección de información del usuario -->
            <section class="perfil-info">
                <div class="perfil-avatar-container">
                    <img id="perfilAvatar" class="perfil-avatar" src="" alt="Avatar del usuario">
                    <div class="perfil-status" id="perfilStatus">
                        <span class="status-indicator"></span>
                        <span class="status-text">Estado</span>
                    </div>
                </div>
                
                <div class="perfil-datos">
                    <h2 class="perfil-nombre" id="perfilNombre">Cargando...</h2>
                    <p class="perfil-bio" id="perfilBio">Cargando biografía...</p>
                    <p class="perfil-fecha-registro" id="perfilFechaRegistro">Cargando fecha...</p>
                </div>
            </section>

            <!-- Estadísticas del usuario -->
            <section class="perfil-estadisticas">
                <div class="estadistica-item">
                    <div class="estadistica-numero" id="totalPublicaciones">0</div>
                    <div class="estadistica-label">Publicaciones</div>
                </div>
                <div class="estadistica-item">
                    <div class="estadistica-numero" id="totalNotas">0</div>
                    <div class="estadistica-label">Notas</div>
                </div>
                <div class="estadistica-item">
                    <div class="estadistica-numero" id="totalMeGusta">0</div>
                    <div class="estadistica-label">Me Gusta</div>
                </div>
                <div class="estadistica-item">
                    <div class="estadistica-numero" id="totalRespuestas">0</div>
                    <div class="estadistica-label">Respuestas</div>
                </div>
            </section>

            <!-- Navegación de contenido -->
            <section class="perfil-tabs">
                <button class="tab-btn active" data-tab="publicaciones">
                    <i class="bi bi-grid-3x3-gap-fill"></i>
                    Publicaciones
                </button>
                <button class="tab-btn" data-tab="notas">
                    <i class="bi bi-file-earmark-text-fill"></i>
                    Notas
                </button>
                <button class="tab-btn" data-tab="megusta">
                    <i class="bi bi-heart-fill"></i>
                    Me Gusta
                </button>
                <button class="tab-btn" data-tab="respuestas">
                    <i class="bi bi-chat-fill"></i>
                    Respuestas
                </button>
            </section>

            <!-- Contenido de las pestañas -->
            <section class="perfil-contenido">
                <!-- Tab Publicaciones -->
                <div class="tab-content active" id="tab-publicaciones">
                    <div class="contenido-vacio">
                        <i class="bi bi-grid-3x3-gap"></i>
                        <h3>Sin publicaciones</h3>
                        <p>Este usuario no ha publicado nada aún</p>
                    </div>
                </div>

                <!-- Tab Notas -->
                <div class="tab-content" id="tab-notas">
                    <div class="contenido-vacio">
                        <i class="bi bi-file-earmark-text"></i>
                        <h3>Sin notas públicas</h3>
                        <p>Este usuario no ha compartido notas públicas</p>
                    </div>
                </div>

                <!-- Tab Me Gusta -->
                <div class="tab-content" id="tab-megusta">
                    <div class="contenido-vacio">
                        <i class="bi bi-heart"></i>
                        <h3>Me gusta privados</h3>
                        <p>Los me gusta de este usuario son privados</p>
                    </div>
                </div>

                <!-- Tab Respuestas -->
                <div class="tab-content" id="tab-respuestas">
                    <div class="contenido-vacio">
                        <i class="bi bi-chat"></i>
                        <h3>Sin respuestas públicas</h3>
                        <p>Este usuario no ha hecho respuestas públicas</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- Error -->
        <div class="error-message" id="errorMessage" style="display: none;">
            <i class="bi bi-exclamation-triangle-fill"></i>
            <h3>Error al cargar el perfil</h3>
            <p>No se pudo encontrar el usuario solicitado</p>
            <button class="btn-volver" onclick="window.history.back()">
                <i class="bi bi-arrow-left"></i>
                Volver
            </button>
        </div>
    </main>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <!-- Configuración de Firebase -->
    <script src="/Java/Base_de_datos_js/firebase-config.js"></script>
    
      <!-- Script principal del perfil público -->
    <script src="/Java/Perfil_publico.js"></script>
    <!-- script para la vista de notas -->
    <script src="/Java/notas-publico.js"></script>

</body>
</html>